1. [Hyperledger Iroha](index.html)
2. [Hyperledger Iroha](Hyperledger-Iroha_20873224.html)
3. [Iroha 2](Iroha-2_21012047.html)
4. [Requests for Comments](Requests-for-Comments_21016001.html)

# Hyperledger Iroha : Merkle Tree

Created by Nikita Puzankov, last modified on Aug 26, 2020

Status

IN PROGRESS

Stakeholders

[Kamil Salakhiev](https://lf-hyperledger.atlassian.net/wiki/people/557058:07723e0b-a027-4cc4-ad6d-324e41cccb4d?ref=confluence) [武宮誠](https://lf-hyperledger.atlassian.net/wiki/people/557058:12c320e6-5d17-404f-b20e-bfa5721ae960?ref=confluence) [Egor Ivkov](https://lf-hyperledger.atlassian.net/wiki/people/5dd9631c1cf3c20ef5ff9f0f?ref=confluence)

Outcome  
Due date

16 Oct 2020

Owner

[Kamil Salakhiev](https://lf-hyperledger.atlassian.net/wiki/people/557058:07723e0b-a027-4cc4-ad6d-324e41cccb4d?ref=confluence)

## Background

### Shorthand

Discussion Participants: [武宮誠](https://lf-hyperledger.atlassian.net/wiki/people/557058:12c320e6-5d17-404f-b20e-bfa5721ae960?ref=confluence) , [Kamil Salakhiev](https://lf-hyperledger.atlassian.net/wiki/people/557058:07723e0b-a027-4cc4-ad6d-324e41cccb4d?ref=confluence)

[武宮誠](https://lf-hyperledger.atlassian.net/wiki/people/557058:12c320e6-5d17-404f-b20e-bfa5721ae960?ref=confluence) :

> What I was thinking is that the leftmost leaf is a block (except for genesis) and every other leaf is a transaction. However, it is just transactions in the same block.
> 
> Do you still think this is too big?
> 
> Each block should have its own tree. Not all intermediary parts need to be stored probably.

[Kamil Salakhiev](https://lf-hyperledger.atlassian.net/wiki/people/557058:07723e0b-a027-4cc4-ad6d-324e41cccb4d?ref=confluence):

> Yes. We can keep only transactions and keep parent hash for every block. That way we can also prove that transaction belongs to the blockchain.
> 
> @mtakemiya btw, if in future we want to have light clients to Iroha (might be useful for wallets and bridges) then we should move transactions outside BlockPayload (or we can call it BlockHeader instead).  
Then instead of transactions themselves we should store merkle hash of the tree composed of transactions from the block. This would allow us to keep block headers as light as possible.

[武宮誠](https://lf-hyperledger.atlassian.net/wiki/people/557058:12c320e6-5d17-404f-b20e-bfa5721ae960?ref=confluence) :

> We should be storing the merkle root in the block header now in iroha 2, I mean, that is how the design is. For the block hash, the txs shouldn't be hashed, but only the merkle root.

## Problem

To make fast validations of Blockchain state we should use some secure solution like Merkle Tree.

## Solution

Block's Merkle Tree should have parents Block's hash as a leftmost leaf, and transactions hashes for other leafs. Blocks headers will store only hashes of Merkle Tree (Merkle root). 

Block

### Decisions

### Alternatives

### Concerns

### Assumptions

### Risks

## Additional Information

Document generated by Confluence on Nov 26, 2024 15:06

[Atlassian](http://www.atlassian.com/)
