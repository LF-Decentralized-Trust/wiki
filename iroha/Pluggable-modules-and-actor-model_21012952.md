1. [Hyperledger Iroha](index.html)
2. [Hyperledger Iroha](Hyperledger-Iroha_20873224.html)
3. [Iroha 2](Iroha-2_21012047.html)
4. [Architecture Decision Records Log](Architecture-Decision-Records-Log_21016003.html)

# Hyperledger Iroha : Pluggable modules and actor model

Created by Aler Denisov, last modified by Egor Ivkov on Aug 16, 2021

  Status

DECIDED 

Stakeholders[武宮誠](https://lf-hyperledger.atlassian.net/wiki/people/557058:12c320e6-5d17-404f-b20e-bfa5721ae960?ref=confluence) OutcomeCustom minimalistic actor framework will be introduced and integratedDue dateOwner

## Background

To support a various number of use cases Iroha2 must implement logic to plug additional logic as an actor. The design should allow an arbitrary actor to receive messages from other actors and share messages about his work.

## Problem

The current runtime design is implemented using mpsc. The single receiver channel architecture turns into a chaos of strict dependencies and creates constraints for extending logic with new modules.

## Solution

Rework core architecture with actor model and single message bus. Bus receives all messages during execution of actors and broadcast them to others. Message trait should allow identify nature of message to filter it. To prevent any blocking problems, messages must reference an immutable value or a cloned value.

According to the requirement of supporting different use cases, actors should be implemented as compile-time features (at least) or as pluggable extensions (point to discuss and future research).

![](attachments/21012952/21017635.png?height=250)

### Decisions

Custom minimalistic actor framework will be introduced and integrated.

### Alternatives

1. Use available actor frameworks such as Actix or different

### Concerns

1. Tradeoff between extensibility and overhead with maintenance global bus and filter messages

### Assumptions

1. Filtering messages on message bus layer against skipping on actors
2. Research pros and cons of actors as separate binaries with external API to extend pluggability

### Risks

## Additional Information

[https://github.com/jonhoo/bus](https://github.com/jonhoo/bus)  
Simple implementation of a lock-free, bounded, single-producer, multi-consumer, broadcast channel

[https://github.com/actix/actix](https://github.com/actix/actix)  
Popular actor framework for Rust

[https://video.ethz.ch/events/2017/rust/e2d74a7b-7cfd-4bd3-8ce5-23c99ad775e2.html](https://video.ethz.ch/events/2017/rust/e2d74a7b-7cfd-4bd3-8ce5-23c99ad775e2.html)  
Type-safe &amp; high-perf distributed actor systems with Rust by Eickhoff, Anselm

## Attachments:

![](images/icons/bullet_blue.gif) [download-4.png](attachments/21012952/21017635.png) (image/png)

Document generated by Confluence on Nov 26, 2024 15:06

[Atlassian](http://www.atlassian.com/)
