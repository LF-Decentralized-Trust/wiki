1. [Hyperledger Iroha](index.html)
2. [Hyperledger Iroha](Hyperledger-Iroha_20873224.html)
3. [Iroha 2](Iroha-2_21012047.html)
4. [Architecture Decision Records Log](Architecture-Decision-Records-Log_21016003.html)
5. [Iroha Special Instructions DSL](Iroha-Special-Instructions-DSL_21012073.html)

# Hyperledger Iroha : Asset-store data reading &amp; writing

Created by Vladislav Markushin, last modified on Jul 27, 2020

Consider a case of **assets exchange** with the following algorithm:

1. Wait for an Asset transfer from an Account
2. Get information about exchanging assets (base asset ID, target asset ID, exchange rate).
3. Check that these assets exist and can be exchanged.
4. Calculate the target currency amount by passing the retrieved exchange rate to the mathematical instruction as an argument
5. Make a transfer by passing the calculated amount of the target currency, recipient account ID (that is, the user who made the transfer in step 1), and the target asset ID as an argument in the AssetTransfer ISI.

Requirements for this case are the following:

1. To have the ability to pass exchange-related dataÂ like 'exchanging asset ID' and etc. to the algorithm (from asset-store, for example).
2. To be able to manipulate the given data. For example, to calculate the exchanged currency amount.
3. To store new data. For example, to store the calculated amount.
4. To load saved data and pass it as an argument for an ISI. E.g. passing the calculated amount to the \`TransferAsset\` ISI.
5. To have a guarantee that all the stored data is consistent, so the user would not have to verify all the data by itself.

Additional requirements for the algorithm:

1. It should be persisted, so no one could change the order of the instructions.
2. It should be guaranteed that the creator of the algorithm is not permitted to call these instructions by itself.

Document generated by Confluence on Nov 26, 2024 15:06

[Atlassian](http://www.atlassian.com/)
