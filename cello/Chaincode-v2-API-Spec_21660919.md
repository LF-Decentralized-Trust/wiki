1. [Hyperledger Cello](index.html)
2. [Hyperledger Cello](Hyperledger-Cello_21659650.html)
3. [Documentation](Documentation_21660730.html)
4. [Cello API-Engine API](Cello-API-Engine-API_21660733.html)
5. [Routes](Routes_21660742.html)

# Hyperledger Cello : Chaincode v2 API Spec

Created by Yuanmao Zhu, last modified by Baohua Yang on Nov 17, 2023

### 1. Upload

POST api/v1/chaincodeRepo

The front end will allow uploading a chaincode package, which is a .tar.gz format file.

Body Parameters

Type

Note

chaincode\_packagestring

The base64-encoded contexts of the chaincode package, including the json metadata file:

{  
    "Path":"&lt;chaincode package path&gt;",  
    "Type":"golang",  
    "Label":"testcc\_v1.0"  
}

description string (optional)

### 2. Perform chaincode operations → Install

POST api/v1/chaincode/installation 

Body Parameters

Type

Note

peer\_uuidstring

Peer UUID

chaincode\_package\_uuidstringchaincode package file id in the backend uploaded data store.

### 3. Perform chaincode operations → Approve (may by several orgs), Commit

POST api/v1/chaincodeDefinitions/?operations=&lt;approve/commit&gt;

Query Parameters

Type

Note

operationsstringHLF lifecycle command that deploys, approves, and commits a chaincode with several organizations

Body Parameters

Type

Note

name

chaincode\_labelstring(optional)The label that will be used to identify the installed chaincode packagepackage\_id string(optional)The package id of the chaincode package that will be installed.channel\_idstring(optional)The channel on which this command should be executed.versionstring (optional)the version of the chaincode definition to be approvedsignature\_policystring (optional)Use a policy inside the channel configuration as the chaincode endorsement policy.peersstring array (optional)The array of the uuid of the peer nodes. For commit onlyinit\_requiredbool flaga boolean flag to request the execution of the `Init` function to initialize the chaincode.

### 4. List chaincodes ([Yuanmao Zhu](https://lf-hyperledger.atlassian.net/wiki/people/712020:6a1ab58c-74d8-45f1-ad1c-4fc227eb20cf?ref=confluence) will revise)

GET api/v1/chaincodes

Get a list of uploaded chaincodes

Response Body  

Type

Note

pathstringfrom metadata.jsontypestringfrom metadata.jsonlabelstringThe label that will be used to identify the installed chaincode package.from metadata.jsonpackage\_idstring the package id of installed package. Calculated by label:SHA256(package), e.g., "testcc\_1.0:1f060a1d05b057d98ed98ca8fd57e3a6542d8dfe383aeff64e289718ab851e2b"descriptionstringa description of chaincode

### 5. Get a chaincode's information ([Yuanmao Zhu](https://lf-hyperledger.atlassian.net/wiki/people/712020:6a1ab58c-74d8-45f1-ad1c-4fc227eb20cf?ref=confluence) will revise)

GET api/v1/chaincodes/&lt;chaincode\_name&gt;

Get the full information of the chaincode

Response Body 

Type

Note

namestringThe name of the chaincode.chaincode\_labelstringThe label that will be used to identify the installed chaincode packageversionstring the version of the chaincode definition to be approvedpackage\_idstring the package id of installed packageapprove\_statusstringthe approval status organizationsstring array A list of orgs that installed the chaincode.channelsstring arrayThe committed channel names for the chaincode

### 6. Query an organization's approved chaincode definition on a channel

GET api/v1/approvedChaincodeDefinitions/&lt;channel\_name&gt;/&lt;org\_name&gt;

Response Body 

Type

Note

org\_namestringThe name of the orgschaincode\_namesstring arraryThe name of the approved chaincode by the org

Note: for FE to get the org approval status for a given chaincode, may have performance issues with lots of orgs.

Document generated by Confluence on Nov 26, 2024 15:04

[Atlassian](http://www.atlassian.com/)
